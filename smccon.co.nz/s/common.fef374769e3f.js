(function(){(function(){"use strict";if(window.console===undefined){var do_nothing,i,len,names;names=['log','debug','info','warn','error','assert','dir','dirxml','group','groupEnd','time','timeEnd','count','trace','profile','profileEnd'];window.console={};do_nothing=$.noop;for(i=0,len=names.length;i<len;i+=1){window.console[names[i]]=do_nothing;}}}());function dump(obj){console.debug("'"+String(obj)+"'");}
function animal3_external_links_use_new_window(){"use strict";var double_slash_regex,hostname_regex,special_regex,url;double_slash_regex=new RegExp('//');hostname_regex=new RegExp('//'+window.location.host+'/','i');special_regex=new RegExp('^mailto:|^tel:');function check_anchor_target(ignore,elem){url=elem.href;if(!url){return;}
if(special_regex.test(url)){return;}
if(!double_slash_regex.test(url)){console.debug('Unexpected URL format, please check: '+url);return;}
if(!hostname_regex.test(elem.href)){console.debug('Add target="_blank" to <a href="'+url+'">');$(elem).attr("target","_blank");}}
$('a').each(check_anchor_target);}
function animal3_navigation_select(options){"use strict";function add_class(elem){$(elem).addClass('selected');console.debug("Add 'selected' class to nav element:",elem);}
function is_match(a,b){return(a===b)?true:false;}
function is_prefix(a,b){var index=b.indexOf(a);return(index===0)?true:false;}
function is_empty(link){var raw=$(link).attr('href');if(raw===''||(raw.indexOf('#')==0)){return true;}else{return false;}}
function is_homepage(link){return(link==='/')?true:false;}
function check_link(link,is_selected){var link_path,current_path;link_path=link.pathname;current_path=window.location.pathname;if(is_empty(link)){return;}
if(is_homepage(link_path)&&is_homepage(current_path)){add_class(link);}else{if(is_selected(link_path,current_path)){add_class(link);}}}
function main(allow_prefix){var is_selected=allow_prefix?is_prefix:is_match;$('nav a').each(function(){check_link(this,is_selected);});}
if(options===undefined){options={};}
if(options.allow_prefix===undefined){options.allow_prefix=false;}
main(options.allow_prefix);}
function animal3_toggle_open_closed(selector){"use strict";function menu_toggle(event){var elem=$(event.target);if(elem.hasClass('open')){elem.removeClass('open');elem.addClass('closed');console.debug("Add 'closed' class to ",elem);}else if(elem.hasClass('closed')){elem.removeClass('closed');elem.addClass('open');console.debug("Add 'open' class to ",elem);}else{console.debug("Target should have class 'open' or 'closed'",elem);}}
var target=$(selector);if(target.length){target.click(menu_toggle);console.debug('Toggle open/close on:',target[0]);}else{console.debug('Given selector matches no elements:',selector);}}
function animal3_sticky(selector){"use strict";var position,target,top;target=$(selector);function scroll_handler(){position=$(window).scrollTop();if(position>top){if(!target.hasClass('stuck')){target.addClass('stuck');console.debug("Add 'stuck' class to: ",target);}}else{if(target.hasClass('stuck')){target.removeClass('stuck');console.debug("Remove 'stuck' class to: ",target);}}}
if(target.length){console.info('Sticky installed on:',target[0]);}else{console.warn('Given selector matches no elements:',selector);}
top=target.offset().top;scroll_handler();$(window).scroll(scroll_handler);};!function(){var t={};t.settings={},t.post=function(t){return new e("post",t)},t.get=function(t){return new e("get",t)};var e=function(e,i){var s={method:e,url:"",before:function(){},success:function(){},error:function(){},data:!1,async:!0,headers:{}};this.p=this.extend(s,i),this.p=this.extend(this.p,t.settings),this.p.method=this.p.method.toUpperCase(),this.prepareData(),this.xhr=new XMLHttpRequest,this.xhr.open(this.p.method,this.p.url,this.p.async),this.setHeaders();var n="function"==typeof this.p.before?this.p.before(this.xhr):!0;n!==!1&&this.send()};e.prototype={extend:function(t,e){if(e)for(var i in e)t[i]=e[i];return t},prepareData:function(){"POST"!==this.p.method||this.isFormData()||(this.p.headers["Content-Type"]="application/x-www-form-urlencoded"),"object"!=typeof this.p.data||this.isFormData()||(this.p.data=this.toParams(this.p.data)),"GET"===this.p.method&&(this.p.url=this.p.data?this.p.url+"?"+this.p.data:this.p.url)},setHeaders:function(){this.xhr.setRequestHeader("X-Requested-With",this.p.headers["X-Requested-With"]||"XMLHttpRequest");for(var t in this.p.headers)this.xhr.setRequestHeader(t,this.p.headers[t])},isFormData:function(){return"undefined"!=typeof window.FormData&&this.p.data instanceof window.FormData},isComplete:function(){return!(this.xhr.status<200||this.xhr.status>=300&&304!==this.xhr.status)},send:function(){this.p.async?(this.xhr.onload=this.loaded.bind(this),this.xhr.send(this.p.data)):(this.xhr.send(this.p.data),this.loaded.call(this))},loaded:function(){if(this.isComplete()){var t=this.xhr.response,e=this.parseJson(t);t=e?e:t,"function"==typeof this.p.success&&this.p.success(t,this.xhr)}else"function"==typeof this.p.error&&this.p.error(this.xhr.statusText)},parseJson:function(t){try{var e=JSON.parse(t);if(e&&"object"==typeof e)return e}catch(i){}return!1},toParams:function(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}};var i=[0],s="data"+ +new Date,n="is-hidden",o="is-hidden-mobile",a=function(t,e){return this.parse(t,e)};a.ready=function(t){"loading"!=document.readyState?t():document.addEventListener("DOMContentLoaded",t)},a.prototype={get dom(){return!0},get length(){return this.nodes.length},parse:function(t,e){var i,s=/^\s*<(\w+|!)[^>]*>/;if(t){if(t.dom)return this.nodes=t.nodes,t;i="string"!=typeof t?t.nodeType&&11===t.nodeType?t.childNodes:t.nodeType||t===window?[t]:t:s.test(t)?this.create(t):this._query(t,e)}else i=[];this.nodes=this._slice(i)},create:function(t){if(/^<(\w+)\s*\/?>(?:<\/\1>|)$/.test(t))return[document.createElement(RegExp.$1)];var e=[],i=document.createElement("div"),s=i.childNodes;i.innerHTML=t;for(var n=0,o=s.length;o>n;n++)e.push(s[n]);return e},add:function(t){this.nodes=this.nodes.concat(this._toArray(t))},get:function(t){return this.nodes[t||0]||!1},getAll:function(){return this.nodes},eq:function(t){return new a(this.nodes[t])},first:function(){return new a(this.nodes[0])},last:function(){return new a(this.nodes[this.nodes.length-1])},contents:function(){return this.get().childNodes},each:function(t){for(var e=this.nodes.length,i=0;e>i;i++)t.call(this,this.nodes[i].dom?this.nodes[i].get():this.nodes[i],i);return this},is:function(t){return this.filter(t).length>0},filter:function(t){var e;return void 0===t?this:(e="function"==typeof t?t:function(e){return t instanceof Node?t===e:t&&t.dom?-1!==t.nodes.indexOf(e):(e.matches=e.matches||e.msMatchesSelector||e.webkitMatchesSelector,1===e.nodeType?e.matches(t||"*"):!1)},new a(this.nodes.filter(e)))},not:function(t){return this.filter(function(e){return!new a(e).is(t||!0)})},find:function(t){var e=[];return this.each(function(i){for(var s=this._query(t||"*",i),n=0;n<s.length;n++)e.push(s[n])}),new a(e)},children:function(t){var e=[];return this.each(function(t){if(t.children)for(var i=t.children,s=0;s<i.length;s++)e.push(i[s])}),new a(e).filter(t)},parent:function(t){var e=[];return this.each(function(t){t.parentNode&&e.push(t.parentNode)}),new a(e).filter(t)},parents:function(t,e){e=this._getContext(e);var i=[];return this.each(function(s){for(var n=s.parentNode;n&&n!==e;)t?new a(n).is(t)&&i.push(n):i.push(n),n=n.parentNode}),new a(i)},closest:function(t,e){e=this._getContext(e),t=t.dom?t.get():t;var i=[],s=t&&t.nodeType;return this.each(function(n){do if(s&&n===t||new a(n).is(t))return i.push(n);while((n=n.parentNode)&&n!==e)}),new a(i)},next:function(t){return this._getSibling(t,"nextSibling")},nextElement:function(t){return this._getSibling(t,"nextElementSibling")},prev:function(t){return this._getSibling(t,"previousSibling")},prevElement:function(t){return this._getSibling(t,"previousElementSibling")},css:function(t,e){if(void 0===e&&"object"!=typeof t){var i=this.get();return"width"===t||"height"===t?i.style?this._getHeightOrWidth(t,i,!1)+"px":void 0:i.style?getComputedStyle(i,null)[t]:void 0}return this.each(function(i){var s={};"object"==typeof t?s=t:s[t]=e;for(var n in s)i.style&&(i.style[n]=s[n])})},attr:function(t,e,i){if(i=i?"data-":"",void 0===e&&"object"!=typeof t){var s=this.get();return s&&3!==s.nodeType?"checked"===t?s.checked:this._getBooleanFromStr(s.getAttribute(i+t)):void 0}return this.each(function(s){var n={};"object"==typeof t?n=t:n[t]=e;for(var o in n)3!==s.nodeType&&("checked"===o?s.checked=n[o]:s.setAttribute(i+o,n[o]))})},data:function(t,e){if(void 0===t){var i=/^data\-(.+)$/,s=this.get().attributes,n={},o=function(t){return t[1].toUpperCase()};for(var a in s)if(s[a]&&i.test(s[a].nodeName)){var r=s[a].nodeName.match(i)[1],h=s[a].value;r=r.replace(/-([a-z])/g,o),h=this._isObjectString(h)?this._toObject(h):this._isNumber(h)?parseFloat(h):this._getBooleanFromStr(h),n[r]=h}return n}return this.attr(t,e,!0)},val:function(t){if(void 0===t){var e=this.get();return e.type&&"checkbox"===e.type?e.checked:e.value}return this.each(function(e){e.value=t})},removeAttr:function(t){return this.each(function(e){var i=function(t){3!==e.nodeType&&e.removeAttribute(t)};t.split(" ").forEach(i)})},removeData:function(t){return this.each(function(e){var i=function(t){3!==e.nodeType&&e.removeAttribute("data-"+t)};t.split(" ").forEach(i)})},dataset:function(t,e){return this.each(function(s){i[this.dataindex(s)][t]=e})},dataget:function(t){return i[this.dataindex(this.get())][t]},dataindex:function(t){var e=t[s],n=i.length;return e||(e=t[s]=n,i[e]={}),e},addClass:function(t){return this._eachClass(t,"add")},removeClass:function(t){return this._eachClass(t,"remove")},toggleClass:function(t){return this._eachClass(t,"toggle")},hasClass:function(t){return this.nodes.some(function(e){return e.classList?e.classList.contains(t):!1})},empty:function(){return this.each(function(t){t.innerHTML=""})},html:function(t){return void 0===t?this.get().innerHTML||"":this.empty().append(t)},text:function(t){return void 0===t?this.get().textContent||"":this.each(function(e){e.textContent=t})},after:function(t){return this._inject(t,function(t,e){if("string"==typeof t)e.insertAdjacentHTML("afterend",t);else for(var i=t instanceof Node?[t]:this._toArray(t).reverse(),s=0;s<i.length;s++)e.parentNode.insertBefore(i[s],e.nextSibling);return e})},before:function(t){return this._inject(t,function(t,e){if("string"==typeof t)e.insertAdjacentHTML("beforebegin",t);else for(var i=t instanceof Node?[t]:this._toArray(t),s=0;s<i.length;s++)e.parentNode.insertBefore(i[s],e);return e})},append:function(t){return this._inject(t,function(t,e){if("string"==typeof t||"number"==typeof t)e.insertAdjacentHTML("beforeend",t);else for(var i=t instanceof Node?[t]:this._toArray(t),s=0;s<i.length;s++)e.appendChild(i[s]);return e})},prepend:function(t){return this._inject(t,function(t,e){if("string"==typeof t||"number"==typeof t)e.insertAdjacentHTML("afterbegin",t);else for(var i=t instanceof Node?[t]:this._toArray(t).reverse(),s=0;s<i.length;s++)e.insertBefore(i[s],e.firstChild);return e})},wrap:function(t){return this._inject(t,function(t,e){var i="string"==typeof t||"number"==typeof t?this.create(t)[0]:t instanceof Node?t:this._toArray(t)[0];return e.parentNode&&e.parentNode.insertBefore(i,e),i.appendChild(e),new a(i)})},unwrap:function(){return this.each(function(t){var e=new a(t);return e.replaceWith(e.contents())})},replaceWith:function(t){return this._inject(t,function(t,e){for(var i=document.createDocumentFragment(),s="string"==typeof t||"number"==typeof t?this.create(t):t instanceof Node?[t]:this._toArray(t),n=0;n<s.length;n++)i.appendChild(s[n]);var o=i.childNodes[0];return e.parentNode.replaceChild(i,e),o})},remove:function(){return this.each(function(t){t.parentNode&&t.parentNode.removeChild(t)})},clone:function(t){var e=[];return this.each(function(i){var s=this._clone(i);t&&(s=this._cloneEvents(i,s)),e.push(s)}),new a(e)},show:function(){return this.each(function(t){if(t.style&&this._hasDisplayNone(t)){var e,i=t.getAttribute("domTargetShow"),s=t.classList?t.classList.contains(n):!1,a=t.classList?t.classList.contains(o):!1;s?(e=n,t.classList.remove(n)):a?(e=o,t.classList.remove(o)):t.style.display=i?i:"block",e&&t.setAttribute("domTargetHide",e),t.removeAttribute("domTargetShow")}}.bind(this))},hide:function(){return this.each(function(t){if(t.style&&!this._hasDisplayNone(t)){var e=t.style.display,i=t.getAttribute("domTargetHide");i===n?t.classList.add(n):i===o?t.classList.add(o):("block"!==e&&t.setAttribute("domTargetShow",e),t.style.display="none"),t.removeAttribute("domTargetHide")}})},scrollTop:function(t){var e=this.get(),i=e===window,s=9===e.nodeType,n=s?document.scrollingElement||document.body.parentNode||document.body||document.documentElement:e;return void 0!==t?void(i?window.scrollTo(0,t):n.scrollTop=t):s?"undefined"!=typeof window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0:i?window.pageYOffset:n.scrollTop},offset:function(){return this._getDim("Offset")},position:function(){return this._getDim("Position")},width:function(t,e){return this._getSize("width","Width",t,e)},height:function(t,e){return this._getSize("height","Height",t,e)},outerWidth:function(){return this._getInnerOrOuter("width","outer")},outerHeight:function(){return this._getInnerOrOuter("height","outer")},innerWidth:function(){return this._getInnerOrOuter("width","inner")},innerHeight:function(){return this._getInnerOrOuter("height","inner")},click:function(){return this._triggerEvent("click")},focus:function(){return this._triggerEvent("focus")},trigger:function(t){return this.each(function(e){for(var i=t.split(" "),s=0;s<i.length;s++){var n,o={bubbles:!0,cancelable:!0};try{n=new window.CustomEvent(i[s],o)}catch(a){n=document.createEvent("CustomEvent"),n.initCustomEvent(i[s],!0,!0)}e.dispatchEvent(n)}})},on:function(t,e,i){return this.each(function(s){for(var n=t.split(" "),o=0;o<n.length;o++){var a=this._getEventName(n[o]),r=this._getEventNamespace(n[o]);e=i?this._getOneHandler(e,t):e,s.addEventListener(a,e),s._e=s._e||{},s._e[r]=s._e[r]||{},s._e[r][a]=s._e[r][a]||[],s._e[r][a].push(e)}})},one:function(t,e){return this.on(t,e,!0)},off:function(t,e){var i=function(t,e,i){return t===i},s=function(t,e,i,s){return e===s},n=function(t,e,i,s){return t===i&&e===s},o=function(){return!0};return void 0===t?this.each(function(t){this._offEvent(t,!1,!1,e,o)}):this.each(function(o){for(var a=t.split(" "),r=0;r<a.length;r++){var h=this._getEventName(a[r]),d=this._getEventNamespace(a[r]);"_events"===d?this._offEvent(o,h,d,e,i):h||"_events"===d?this._offEvent(o,h,d,e,n):this._offEvent(o,h,d,e,s)}})},serialize:function(t){for(var e={},i=this.get().elements,s=0;s<i.length;s++){var n=i[s];if((!/(checkbox|radio)/.test(n.type)||n.checked)&&n.name&&!n.disabled&&"file"!==n.type){if("select-multiple"===n.type)for(var o=0;o<n.options.length;o++){var a=n.options[o];a.selected&&(e[n.name]=a.value)}e[n.name]=this._isNumber(n.value)?parseFloat(n.value):this._getBooleanFromStr(n.value)}}return t?e:this._toParams(e)},ajax:function(t,i){if("undefined"!=typeof e){var s=this.attr("method")||"post",n={url:this.attr("action"),data:this.serialize(),success:t,error:i};return new e(s,n)}},_queryContext:function(t,e){return e=this._getContext(e),3!==e.nodeType&&"function"==typeof e.querySelectorAll?e.querySelectorAll(t):[]},_query:function(t,e){if(e)return this._queryContext(t,e);if(/^[.#]?[\w-]*$/.test(t)){if("#"===t[0]){var i=document.getElementById(t.slice(1));return i?[i]:[]}return"."===t[0]?document.getElementsByClassName(t.slice(1)):document.getElementsByTagName(t)}return document.querySelectorAll(t)},_getContext:function(t){return t="string"==typeof t?document.querySelector(t):t,t&&t.dom?t.get():t||document},_inject:function(t,e){for(var i=this.nodes.length,s=[];i--;){var n="function"==typeof t?t.call(this,this.nodes[i]):t,o=0===i?n:this._clone(n),r=e.call(this,o,this.nodes[i]);r&&(r.dom?s.push(r.get()):s.push(r))}return new a(s)},_cloneEvents:function(t,e){var i=t._e;if(i){e._e=i;for(var s in i._events)for(var n=0;n<i._events[s].length;n++)e.addEventListener(s,i._events[s][n])}return e},_clone:function(t){return"undefined"!=typeof t?"string"==typeof t?t:t instanceof Node||t.nodeType?t.cloneNode(!0):"length"in t?[].map.call(this._toArray(t),function(t){return t.cloneNode(!0)}):void 0:void 0},_slice:function(t){return t&&0!==t.length?t.length?[].slice.call(t.nodes||t):[t]:[]},_eachClass:function(t,e){return this.each(function(i){if(t){var s=function(t){i.classList&&i.classList[e](t)};t.split(" ").forEach(s)}})},_triggerEvent:function(t){var e=this.get();return e&&3!==e.nodeType&&e[t](),this},_getOneHandler:function(t,e){var i=this;return function(){t.apply(this,arguments),i.off(e)}},_getEventNamespace:function(t){var e=t.split("."),i=e[1]?e[1]:"_events";return e[2]?i+e[2]:i},_getEventName:function(t){return t.split(".")[0]},_offEvent:function(t,e,i,s,n){for(var o in t._e)for(var a in t._e[o])if(n(a,o,e,i))for(var r=t._e[o][a],h=0;h<r.length;h++)"undefined"!=typeof s&&r[h].toString()!==s.toString()||(t.removeEventListener(a,r[h]),t._e[o][a].splice(h,1),0===t._e[o][a].length&&delete t._e[o][a],0===Object.keys(t._e[o]).length&&delete t._e[o])},_getInnerOrOuter:function(t,e){return this[t](void 0,e)},_getDocSize:function(t,e){var i=t.body,s=t.documentElement;return Math.max(i["scroll"+e],i["offset"+e],s["client"+e],s["scroll"+e],s["offset"+e])},_getSize:function(t,e,i,s){if(void 0===i){var n=this.get();return i=3===n.nodeType?0:9===n.nodeType?this._getDocSize(n,e):n===window?window["inner"+e]:this._getHeightOrWidth(t,n,s||"normal"),Math.round(i)}return this.each(function(e){i=parseFloat(i),i+=this._adjustResultHeightOrWidth(t,e,s||"normal"),new a(e).css(t,i+"px")}.bind(this))},_getHeightOrWidth:function(t,e,i){if(!e)return 0;var s=t.charAt(0).toUpperCase()+t.slice(1),n=0,o=getComputedStyle(e,null),r=new a(e),h=r.parents().filter(function(t){return 1===t.nodeType&&"none"===getComputedStyle(t,null).display?t:!1});if("none"===o.display&&h.add(e),0!==h.length){var d="visibility: hidden !important; display: block !important;",l=[];h.each(function(t){var e=new a(t),i=e.attr("style");null!==i&&l.push(i),e.attr("style",null!==i?i+";"+d:d)}),n=r.get()["offset"+s]-this._adjustResultHeightOrWidth(t,e,i),h.each(function(t,e){var i=new a(t);void 0===l[e]?i.removeAttr("style"):i.attr("style",l[e])})}else n=e["offset"+s]-this._adjustResultHeightOrWidth(t,e,i);return n},_adjustResultHeightOrWidth:function(t,e,i){if(!e||i===!1)return 0;var s=0,n=getComputedStyle(e,null),o="border-box"===n.boxSizing;return"height"===t?(("inner"===i||"normal"===i&&o)&&(s+=(parseFloat(n.borderTopWidth)||0)+(parseFloat(n.borderBottomWidth)||0)),"outer"===i&&(s-=(parseFloat(n.marginTop)||0)+(parseFloat(n.marginBottom)||0))):(("inner"===i||"normal"===i&&o)&&(s+=(parseFloat(n.borderLeftWidth)||0)+(parseFloat(n.borderRightWidth)||0)),"outer"===i&&(s-=(parseFloat(n.marginLeft)||0)+(parseFloat(n.marginRight)||0))),s},_getDim:function(t){var e=this.get();return 3===e.nodeType?{top:0,left:0}:this["_get"+t](e)},_getPosition:function(t){return{top:t.offsetTop,left:t.offsetLeft}},_getOffset:function(t){var e=t.getBoundingClientRect(),i=t.ownerDocument,s=i.documentElement,n=i.defaultView;return{top:e.top+n.pageYOffset-s.clientTop,left:e.left+n.pageXOffset-s.clientLeft}},_getSibling:function(t,e){t=t&&t.dom?t.get():t;var i,s=t&&t.nodeType;return this.each(function(n){for(;n=n[e];)if(s&&n===t||new a(n).is(t))return void(i=n)}),new a(i)},_toArray:function(t){if(t instanceof NodeList){for(var e=[],i=0;i<t.length;i++)e[i]=t[i];return e}return void 0===t?[]:t.dom?t.nodes:t},_toParams:function(t){var e="";for(var i in t)e+="&"+this._encodeUri(i)+"="+this._encodeUri(t[i]);return e.replace(/^&/,"")},_toObject:function(t){return new Function("return "+t)()},_encodeUri:function(t){return encodeURIComponent(t).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")},_isNumber:function(t){return!isNaN(t)&&!isNaN(parseFloat(t))},_isObjectString:function(t){return-1!==t.search(/^{/)},_getBooleanFromStr:function(t){return"true"===t?!0:"false"===t?!1:t},_hasDisplayNone:function(t){return"none"===t.style.display||"none"===(t.currentStyle?t.currentStyle.display:getComputedStyle(t,null).display)}};var r={};r.app=[],r.version="7.2.1",r.options={},r.modules={},r.services={},r.plugins={},r.classes={},r["extends"]={},r.lang={},r.dom=function(t,e){return new a(t,e)},r.ajax=t,r.Dom=a,r.env={module:"modules",service:"services",plugin:"plugins","class":"classes",extend:"extends"};var h=function(t,e){return r.app=new d(t)};r.init=function(t){return new h(t,[].slice.call(arguments,1))},r.api=function(t){var e=r.app,i=[].slice.call(arguments,1);e&&(i.unshift(t),e.api.apply(e,i))},r.add=function(t,e,i){if("undefined"!=typeof r.env[t])if(i.translations&&(r.lang=r.extend(!0,{},r.lang,i.translations)),"extend"===t)r[r.env[t]][e]=i;else{var s=function(){};if(s.prototype=i,i["extends"])for(var n=0;n<i["extends"].length;n++)r.inherit(s,r["extends"][i["extends"][n]]);r[r.env[t]][e]=s}},r.addLang=function(t,e){"undefined"==typeof r.lang[t]&&(r.lang[t]={}),r.lang[t]=r.extend(r.lang[t],e)},r.create=function(t){var e=t.split("."),i=[].slice.call(arguments,1),s="classes";"undefined"!=typeof r.env[e[0]]&&(s=r.env[e[0]],t=e.slice(1).join("."));var n=new r[s][t];if(n._type=e[0],n._name=t,n.init){var o=n.init.apply(n,i);return o?o:n}return n},r.inherit=function(t,e){var i=function(){};i.prototype=e;var s=new i;for(var n in t.prototype)t.prototype.__lookupGetter__(n)?s.__defineGetter__(n,t.prototype.__lookupGetter__(n)):s[n]=t.prototype[n];return t.prototype=s,t.prototype["super"]=e,t},r.error=function(t){throw t},r.extend=function(){var t={},e=!1,i=0,s=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],i++);for(var n=function(i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e&&"[object Object]"===Object.prototype.toString.call(i[s])?t[s]=r.extend(!0,t[s],i[s]):t[s]=i[s])};s>i;i++){var o=arguments[i];n(o)}return t};var d=function(t){this.modules={},this.services=[],this.queueStart={service:{},module:{}},this.queueStop={service:{},module:{}},this.started=!1,this.stopped=!1,this.namespace="kube",this.dataNamespace="data-kube",this.instancePrefix="kube-instance-",this.rootOpts=t,this.$win=r.dom(window),this.$doc=r.dom(document),this.$body=r.dom("body"),this.coreServices=["options","lang","utils"],this.bindableServices=["opts","lang","utils","$win","$doc","$body"],this.utils=r.create("service.utils",this),this.opts=r.create("service.options",this,"global",t),this.lang=r.create("service.lang",this),this.appcallback=new d.Callback(this),this.appstarter=new d.Starter(this),this.appbuilder=new d.Builder(this),this.appbroadcast=new d.Broadcast(this),this.appapi=new d.Api(this),this.build(),this.start()};d.prototype={build:function(){this.appbuilder.build()},start:function(){this.stopped=!1,this.broadcast("start",this),this.appstarter.start(),this.broadcast("started",this),this.started=!0},stop:function(){this.started=!1,this.stopped=!0,this.broadcast("stop",this),this.appstarter.stop(),this.broadcast("stopped",this)},starter:function(t,e){var i="service"!==t._type?"module":t._type;this.queueStart[i][e]=t._name},stopper:function(t,e){var i="service"!==t._type?"module":t._type;this.queueStop[i][e]=t._name},isStarted:function(){return this.started},isStopped:function(){return this.stopped},broadcast:function(t,e){this.appbroadcast.trigger(t,e,[].slice.call(arguments,2))},on:function(t,e){this.appcallback.add(t,e)},off:function(t,e){this.appcallback.remove(t,e)},api:function(t){return this.appapi.trigger(t,[].slice.call(arguments,1))}},d.Module=function(t,e,i,s){return this.app=t,this.instancePrefix=t.instancePrefix,this.eventTypes=["click","mouseover","mouseout","mousedown","mouseup","mousemove","keydown","keyup","focus","submit","change","contextmenu","input"],this._build(e,i,s)},d.Module.prototype={_build:function(t,e,i){var s=t.dataget(this.instancePrefix+e);if(!s&&"undefined"!=typeof r.modules[e]){var n=new d.Context(this.app,t,i),o=n.getTarget();s=r.create("module."+e,this.app,n),s._id=i,t.dataset(this.instancePrefix+e,s),t.attr("data-loaded",!0),this._delegateModuleEvents(s,t,e),this._delegateModuleCommands(s,t),o.is()&&this._delegateModuleCommands(s,o)}return s},_delegateModuleCommands:function(t,e){e.find("[data-command]").each(function(e){this._delegateCommand(t,e,e.getAttribute("data-command"))}.bind(this))},_delegateCommand:function(t,e,i){"undefined"==typeof t._eventCommands&&(t._eventCommands=[]);var s=this,n=r.dom(e);t._eventCommands.push(n),n.on("click.generatedcommand",function(e){e.preventDefault();var o=n.data();o.event=e,s.app.broadcast(i,t,n,o)})},_delegateModuleEvents:function(t,e,i){e.find("[data-type]").each(function(e){var s=e.getAttribute("data-type").split("."),n=s[0],o=i;2===s.length&&(o=s[0],n=s[1]),o===i&&this._delegateEvent(t,i,e,n)}.bind(this))},_delegateEvent:function(t,e,i,s){"undefined"==typeof t._eventNodes&&(t._eventNodes=[]);var n=r.dom(i),o=function(e,i,s,n,o){return t["on"+i].call(t,e,s,n,o)};t._eventNodes.push(n);for(var a=0;a<this.eventTypes.length;a++){var h="on"+this.eventTypes[a];"function"==typeof t[h]&&n.on(this.eventTypes[a]+".generatedevent",function(t){var e=n.data();o(t,t.type,this,s,e)})}}},d.Context=function(t,e,i){this.app=t,this.opts=t.opts,this.$element=this._buildElement(e),this.params=this._buildParams(),this.name=this._buildName(i),this.$target=this._buildTarget()},d.Context.prototype={getElement:function(){return this.$element},getTarget:function(){return this.$target},getParams:function(t){return t?r.extend({},t,this.params):this.params},getName:function(){return this.name},_buildName:function(t){return this.params.name?this.params.name:t},_buildParams:function(){return r.create("service.options",this.app,"element",this.$element)},_buildElement:function(t){return new d.Element(this.app,t)},_buildTarget:function(){return new d.Target(this.app,this.params.target)}},d.Callback=function(t){this.app=t,this.opts=t.opts,this.callbacks={},this._build()},d.Callback.prototype={stop:function(){this.callbacks={}},add:function(t,e){"undefined"==typeof this.callbacks[t]&&(this.callbacks[t]=[]),this.callbacks[t].push(e)},remove:function(t,e){if(void 0===e)delete this.callbacks[t];else{for(var i=0;i<this.callbacks[t].length;i++)this.callbacks[t].splice(i,1);0===this.callbacks[t].length&&delete this.callbacks[t]}},trigger:function(t,e){if("undefined"!=typeof this.callbacks[t])for(var i=0;i<this.callbacks[t].length;i++)this.callbacks[t][i].apply(this.app,e)},_build:function(){if(this.opts.callbacks)for(var t in this.opts.callbacks)if("function"==typeof this.opts.callbacks[t])"undefined"==typeof this.callbacks[t]&&(this.callbacks[t]=[]),this.callbacks[t].push(this.opts.callbacks[t]);else for(var e in this.opts.callbacks[t])"undefined"==typeof this.callbacks[t+"."+e]&&(this.callbacks[t+"."+e]=[]),this.callbacks[t+"."+e].push(this.opts.callbacks[t][e])}},d.Element=function(t,e){this.app=t,this.parse(e)},d.Element.prototype={isOpened:function(){return!this.isClosed()},isClosed:function(){return this.hasClass("is-hidden")||"none"===this.css("display")}},r.inherit(d.Element,a.prototype),d.Target=function(t,e){this.app=t,this.parse(e)},d.Target.prototype={isOpened:function(){return!this.isClosed()},isClosed:function(){var t=0,e=this.length;return this.each(function(e){var i=r.dom(e);(i.hasClass("is-hidden")||"none"===i.css("display"))&&t++}),t===e}},r.inherit(d.Target,a.prototype),d.Api=function(t){this.app=t,this.modules=t.modules},d.Api.prototype={trigger:function(t,e){var i=t.split("."),s=3===i.length,n=1===i.length,o="on"===i[0]||"off"===i[0],a=i[0],r=i[1],h=!1;if(n?(a=!1,r=i[0]):s&&(r=i[2],h=i[1]),n){if("function"==typeof this.app[r])return this._call(this.app,r,e)}else{if(o)return"on"===a?this.app.on(a,e[0]):this.app.off(a,e[0]||void 0);if(this._isInstanceExists(this.app,a))return this._call(this.app[a],r,e);this._isInstanceExists(this.modules,a)&&this._doApi(a,r,h,e)}},_isInstanceExists:function(t,e){return"undefined"!=typeof t[e]},_doApi:function(t,e,i,s){for(var n in this.modules[t])if(i===!1||i===n){var o=this.modules[t][n];this._call(o,e,s)}},_call:function(t,e,i){return"function"==typeof t[e]?t[e].apply(t,i):void 0}},d.Broadcast=function(t){this.app=t,this.modules=t.modules,this.callback=t.appcallback},d.Broadcast.prototype={trigger:function(t,e,i){Array.isArray(t)?(e._id=t[0],t=t[1]):e&&"undefined"!=typeof e.context&&(e._id=e.context.getName()),i.unshift(e);for(var s in this.modules)for(var n in this.modules[s]){var o=this.modules[s][n];this._call(o,t,i,e)}this.callback.trigger(t,i)},_call:function(t,e,i,s){if("undefined"!=typeof t.onmessage){var n=e.split("."),o=t.onmessage[n[0]];1===n.length&&"function"==typeof o?o.apply(t,i):2===n.length&&"undefined"!=typeof o&&"function"==typeof o[n[1]]&&o[n[1]].apply(t,i)}var n=e.split(".");if(1===n.length)"function"==typeof t["on"+e]&&t["on"+e].apply(t,i);else{n[0]="on"+n[0];var o=this.app.utils.checkProperty(t,n);if("function"==typeof o&&o.apply(t,i),s&&s._id){var a=[n[0],s._id,n[1]],o=this.app.utils.checkProperty(t,a);"function"==typeof o&&o.apply(t,i)}}}},d.Builder=function(t){this.app=t,this.opts=t.opts,this.$doc=t.$doc,this.dataNamespace=t.dataNamespace},d.Builder.prototype={build:function(){this._buildServices(),this._buildModules()},_buildServices:function(){var t=[],e=[];for(var i in r.services)-1===this.app.coreServices.indexOf(i)&&(this.app[i]=r.create("service."+i,this.app),this.app.bindableServices.push(i),t.push(i),e.push(i));for(var s=0;s<this.app.coreServices.length;s++){var i=this.app.coreServices[s];"options"!==i&&t.push(i)}for(var s=0;s<t.length;s++)for(var n=t[s],o=0;o<this.app.bindableServices.length;o++){var a=this.app.bindableServices[o];n!==a&&(this.app[n][a]=this.app[a])}this.app.services=e},_buildModules:function(){this.$doc.find("["+this.dataNamespace+"]").each(function(t,e){var i=r.dom(t),s=i.attr(this.dataNamespace),n=i.attr("id")?i.attr("id"):s+"-"+e;n=i.attr("data-name")?i.attr("data-name"):n;var o=new d.Module(this.app,i,s,n);this._storeElementModule(o,s,n)}.bind(this))},_storeElementModule:function(t,e,i){t&&("undefined"==typeof this.app.modules[e]&&(this.app.modules[e]={}),this.app.modules[e][i]=t)}},d.Starter=function(t){this.app=t,this.queue={start:t.queueStart,stop:t.queueStop},this.priority={start:{service:[],module:[]},stop:{service:[],module:[]}}},d.Starter.prototype={start:function(){this._stopStart("service","start"),this._stopStart("module","start")},stop:function(){this._stopStart("service","stop"),this._stopStart("module","stop")},_stopStart:function(t,e){var i=this.queue[e][t];for(var s in i){var n=i[s],o="service"===t?this.app[n]:this.app.modules[n];this._callInstances(t,e,o),this.priority[e][t].push(n)}var a="service"===t?this.app.services:this.app.modules;for(var s in a){var n="service"===t?a[s]:s;if(-1===this.priority[e][t].indexOf(n)){var o="service"===t?this.app[n]:a[n];this._callInstances(t,e,o)}}},_stopModuleEvents:function(t,e){if("stop"===t){if("undefined"!=typeof e._eventNodes)for(var i=0;i<e._eventNodes.length;i++)e._eventNodes[i].off(".generatedevent");if("undefined"!=typeof e._eventCommands)for(var i=0;i<e._eventCommands.length;i++)e._eventCommands[i].off(".generatedcommand")}},_callInstances:function(t,e,i){if("service"===t)this._call(i,e);else for(var s in i)this._call(i[s],e),this._stopModuleEvents(e,i[s])},_call:function(t,e,i){return"function"==typeof t[e]?t[e].apply(t,i):void 0}},r.add("extend","dom",r.Dom.prototype),r.add("service","animate",{init:function(t){this.app=t,this.animationOpt=!0},run:function(t,e,i){return new r.AnimatePlay(this.app,t,e,i,this.animationOpt)},remove:function(t){this.$el=r.dom(t);var e=this.$el.attr("kube-animate-effect");this.$el.hide(),this.$el.removeClass(e),this.$el.off("animationend webkitAnimationEnd")}}),r.AnimatePlay=function(t,e,i,s,n){this.hidableEffects=["fadeOut","flipOut","slideUp","zoomOut","slideOutUp","slideOutRight","slideOutLeft"],this.prefix="kube-",this.prefixes=["","-webkit-"],this.utils=t.utils,this.$el=r.dom(e),this.$body=r.dom("body"),this.callback=s,this.animation=n?i:this._buildAnimationOff(i),this._setHeight(),this._isAnimate()?this._animate():this._toggle()},r.AnimatePlay.prototype={_setHeight:function(){"slideUp"!==this.animation&&"slideDown"!==this.animation||this.$el.height(this.$el.height())},_buildAnimationOff:function(t){return this._isHidable(t)?"hide":"show"},_isAnimate:function(){return"show"!==this.animation&&"hide"!==this.animation},_isHidable:function(t){return-1!==this.hidableEffects.indexOf(t)},_clean:function(){this.$body.removeClass("is-no-scroll-x"),this.$el.removeClass(this.prefix+this.animation),this.$el.removeAttr("kube-animate-effect")},_toggle:function(){"show"===this.animation?this.$el.show():this.$el.hide(),"function"==typeof this.callback&&this.callback(this)},_animate:function(){this.$body.addClass("is-no-scroll-x"),this.$el.show(),this.$el.addClass(this.prefix+this.animation),this.$el.attr("kube-animate-effect",this.prefix+this.animation),this._complete()},_complete:function(){this.$el.one("animationend webkitAnimationEnd",function(t){this.$el.hasClass(this.prefix+this.animation)&&this._clean(),this._isHidable(this.animation)&&this.$el.hide(),"slideUp"!==this.animation&&"slideDown"!==this.animation||this.$el.css("height",""),"function"==typeof this.callback&&this.callback(this.$el)}.bind(this))}},r.add("service","transition",{init:function(t){this.transitionOpt=!0},run:function(t,e){return new r.TransitionPlay(e,t,this.transitionOpt)},remove:function(t){this.$el=r.dom(t);var e=this.$el.attr("kube-transition-class");e&&(this.$el.removeClass(e),this.$el.removeAttr("kube-transition-class"));var i=this.$el.attr("kube-transition-css");if(i){for(var s=i.split(","),n=0;n<s.length;n++)this.$el.css(s[n],"");this.$el.removeAttr("kube-transition-css")}this.$el.off("transitionend webkitTransitionEnd")}}),r.TransitionPlay=function(t,e,i){this.$el=r.dom(e),this.params=t,this._transition()},r.TransitionPlay.prototype={_transition:function(){if(this.params.classname&&(this.$el.addClass(this.params.classname),this.$el.attr("kube-transition-class",this.params.classname)),this.params.css){this.$el.css(this.params.css);var t=[];for(var e in this.params.css)t.push(e);this.$el.attr("kube-transition-css",t.join(","))}this._complete()},_complete:function(){this.$el.one("transitionend webkitTransitionEnd",function(t){"function"==typeof this.params.callback&&this.params.callback(this.$el)}.bind(this))}},r.add("service","lang",{init:function(t){this.app=t,this.opts=t.opts;var e=this.opts.lang?this.opts.lang:"en";this.vars=this.build(e)},build:function(t){return t=void 0===r.lang[t]?"en":t,void 0!==r.lang[t]?r.lang[t]:[]},rebuild:function(t){this.opts.lang=t,this.vars=this.build(t)},extend:function(t){this.vars=r.extend(this.vars,t)},parse:function(t){if(void 0===t)return"";var e=t.match(/## (.*?) ##/g);if(e)for(var i=0;i<e.length;i++){var s=e[i].replace(/^##\s/g,"").replace(/\s##$/g,"");t=t.replace(e[i],this.get(s))}return t},get:function(t){return"undefined"!=typeof this.vars[t]?this.vars[t]:""}}),r.add("service","options",{init:function(t,e,i){return this.app=t,this.utils=t.utils,"global"===e?this._build(i):this._buildElement(i)},_build:function(t){return t?this._extendFromElements(t):{}},_buildElement:function(t){return r.extend({},t.data())},_extendFromElements:function(t){return t.hasOwnProperty("append")?this.utils.extendData(t,t.append):t}}),r.add("service","response",{init:function(t){this.app=t},parse:function(t){if(""===t)return!1;var e="object"==typeof t?t:JSON.parse(t);if(void 0!==e[0])for(var i in e)this._parseItem(e[i]);else this._parseItem(e);return e},_parseItem:function(t){if("location"===t.type)top.location.href=t.data;else if("message"===t.type)this.message.show(t.data);else for(var e in t.data){var i=t.data[e],s=r.dom(e);"value"===t.type?(i=null===i||i===!1?0:i,i=i===!0?1:i,s.val(i)):"html"===t.type?(i=null===i||i===!1?"":i,s.html(this._stripslashes(i))):"addClass"===t.type?s.addClass(i):"removeClass"===t.type?s.removeClass(i):"show"===t.type?s.removeClass("is-hidden"):"hide"===t.type?s.addClass("is-hidden"):"animate"===t.type&&this.animate.run(s,i)}return t},_stripslashes:function(t){return(t+"").replace(/\0/g,"0").replace(/\\([\\'"])/g,"$1")}}),r.add("service","progress",{init:function(t){this.app=t,this.$body=t.$body,this.defaults={selector:"kube-progress",target:!1,value:100},this.$progress=!1,this.$progressBar=!1},stop:function(){if(this.$progress=!1,this.$progressBar=!1,r.dom("#"+this.params.selector).remove(),this.params.target){var t=r.dom(this.params.target);t.removeClass("is-relative")}},show:function(t){this._buildDefaults(t),this._build()},hide:function(t){this.$progress&&(this._buildDefaults(t),this.animate.run(this.$progress,"fadeOut",this.stop.bind(this)))},update:function(t){this._buildDefaults(t),this.$progress||this._build(),this._setValue()},_buildDefaults:function(t){this.params=r.extend({},this.defaults,t)},_build:function(){if(this.stop(),this.$progress=r.dom("<div>"),this.$progress.attr("id",this.params.selector),this.$progress.addClass(this.params.selector),this.$progressBar=r.dom("<span>"),this.$progress.append(this.$progressBar),this.params.target){var t=r.dom(this.params.target);"static"===t.css("position")&&t.addClass("is-relative"),t.append(this.$progress)}else this.$progress.addClass("is-fixed"),this.$body.append(this.$progress)},_setValue:function(){this.$progressBar.css("width",this.params.value+"%")}}),r.add("service","message",{init:function(t){this.app=t,this.defaults={name:!1,delay:7,message:"",position:"right",positions:["is-left","is-right","is-center","is-centered","is-line"],type:!1,types:["is-error","is-success","is-focus","is-black"],selector:"kube-message"},this.currentAnimation=[],this.animation={line:["slideInDown","slideOutUp"],centered:["slideInDown","slideOutUp"],left:["slideInLeft","slideOutLeft"],right:["slideInRight","slideOutRight"]},this.$message=!1,this.timeout=!1},stop:function(){clearTimeout(this.timeout),r.dom("#"+this.params.selector).remove(),this.$message=!1,this.$doc.off(".kube.message")},show:function(t){this._buildDefaults(t),this.stop(),this._build(),this._open()},hide:function(t){this._buildDefaults(t),this._close()},_broadcast:function(t){t="message."+t,t=this.params.name!==!1?[this.params.name,t]:t,this.app.broadcast(t,this)},_buildDefaults:function(t){this.params=r.extend({},this.defaults,t)},_buildAnimation:function(){this.currentAnimation=this.animation[this.params.position]},_buildClose:function(){this.$message.on("click.kube.message",this._close.bind(this))},_buildType:function(){this.params.type&&(this.$message.removeClass(this.params.types.join(" ")),this.$message.addClass(this.params.type))},_buildPosition:function(){this.$message.removeClass(this.params.positions.join(" ")),this.$message.addClass("is-"+this.params.position)},_buildMessage:function(){this.$message.html(this.params.message)},_build:function(){this.$message=r.dom("<div>"),this.$message.attr("id",this.params.selector),this.$message.addClass("message is-hidden"),this.$body.append(this.$message)},_handleKeyboard:function(t){27===t.which&&this._close()},_open:function(){this._broadcast("open"),this._buildClose(),this._buildType(),this._buildPosition(),this._buildAnimation(),this._buildMessage(),this.animate.run(this.$message,this.currentAnimation[0],this._opened.bind(this))},_close:function(t){this.$message&&(this._broadcast("close"),this.animate.run(this.$message,this.currentAnimation[1],this._closed.bind(this)))},_opened:function(){this.$doc.on("keyup.kube.message",this._handleKeyboard.bind(this)),this.timeout=setTimeout(this._close.bind(this),1e3*this.params.delay),this._broadcast("opened")},_closed:function(){this.stop(),this._broadcast("closed")}}),r.add("service","modal",{init:function(t){this.app=t,this.defaults={target:!1,name:!1,url:!1,title:!1,width:"600px",height:!1,handle:!1,commands:!1},this.$box=!1,this.$modal=!1},stop:function(){this.$box&&(this.$box.remove(),this.$box=!1,this.$modal=!1,this.$doc.off(".kube.modal"),this.$win.off(".kube.modal")),this.$overlay&&this.$overlay.remove()},open:function(t){this._buildDefaults(t),this.params.url?this._openUrl():this.params.target&&this._openTarget()},close:function(){this._close()},resize:function(){this.$modal.setWidth(this.params.width),this.$modal.updatePosition()},_broadcast:function(t){t="modal."+t,this.app.broadcast([this.params.name,t],this,this.$modal,this.$modalForm)},_isOpened:function(){return this.$modal&&this.$modal.hasClass("is-open")},_openUrl:function(){r.ajax.post({url:this.params.url,success:this._doOpen.bind(this)})},_openTarget:function(){var t=r.dom(this.params.target).clone().html();this._doOpen(t)},_doOpen:function(t){this.stop(),this._isDesktop()||document.activeElement.blur(),this._createModal(t),this._buildModalBox(),this._buildOverlay(),this._buildModal(),this._buildModalForm(),this._buildModalCommands(),this.$modal.updatePosition(),this._broadcast("open"),this.animate.run(this.$box,"fadeIn",this._opened.bind(this)),this.animate.run(this.$overlay,"fadeIn")},_opened:function(){this.$modal.addClass("is-open"),this.$box.on("mousedown.kube.modal",this._close.bind(this)),this.$doc.on("keyup.kube.modal",this._handleEscape.bind(this)),this.$win.on("resize.kube.modal",this.resize.bind(this)),this.$modal.getBody().find("input[type=text],input[type=url],input[type=email]").on("keydown.kube.modal",this._handleEnter.bind(this)),this._broadcast("opened")},_close:function(t){if(this.$box&&this._isOpened()){if(t){if(!this._needToClose(t.target))return;t.stopPropagation(),t.preventDefault()}this._broadcast("close"),this.animate.run(this.$box,"fadeOut",this._closed.bind(this)),this.animate.run(this.$overlay,"fadeOut")}},_closed:function(){this.$modal.removeClass("is-open"),this.$box.off(".kube.modal"),this.$doc.off(".kube.modal"),this.$win.off(".kube.modal"),this._broadcast("closed")},_createModal:function(t){this.$modal=r.create("class.modal.element",this.app,t)},_buildDefaults:function(t){this.params=r.extend({},this.defaults,t)},_buildModalBox:function(){this.$box=r.dom("<div>"),this.$box.attr("id","kube-modal"),this.$box.addClass("modal-box is-hidden"),this.$box.html(""),this.$body.append(this.$box)},_buildOverlay:function(){this.$overlay=r.dom("#kube-overlay"),0===this.$overlay.length&&(this.$overlay=r.dom("<div>"),this.$overlay.attr("id","kube-overlay"),this.$overlay.addClass("overlay is-hidden"),this.$body.prepend(this.$overlay))},_buildModal:function(){this.$box.append(this.$modal),this.$modal.setTitle(this.params.title),this.$modal.setHeight(this.params.height),this.$modal.setWidth(this.params.width)},_buildModalCommands:function(){if(this.params.commands){var t=this.params.commands,e=this.$modal.getFooter();for(var i in t){var s=r.dom("<button>");s.addClass("button"),s.html(t[i].title),s.attr("data-command",i),"undefined"!=typeof t[i].classname&&s.addClass(t[i].classname),"undefined"!=typeof t[i].close?(s.attr("data-action","close"),s.on("click",this._close.bind(this))):s.on("click",this._handleCommand.bind(this)),e.append(s)}}},_buildModalForm:function(){this.$modalForm=r.create("modal.form",this.app,this.$modal.getForm())},_needToClose:function(t){var e=r.dom(t);return!("close"!==e.attr("data-action")&&!this.$modal.isCloseNode(t)&&0!==e.closest(".modal").length)},_handleCommand:function(t){var e=r.dom(t.target).closest("button"),i=e.attr("data-command");"cancel"!==i&&t.preventDefault(),this._broadcast(i)},_handleEnter:function(t){13===t.which&&this.params.handle&&(t.preventDefault(),this._broadcast(this.params.handle))},_handleEscape:function(t){27===t.which&&this._close()},_isDesktop:function(){return!/(iPhone|iPod|iPad|Android)/.test(navigator.userAgent)}}),r.add("class","modal.form",{"extends":["dom"],init:function(t,e){this.app=t,this.build(e)},build:function(t){this.parse(t)},getData:function(){var t={};return this.find("[name]").each(function(e){var i=r.dom(e);t[i.attr("name")]=i.val()}),t},setData:function(t){this.find("[name]").each(function(e){var i=r.dom(e),s=i.attr("name");t.hasOwnProperty(s)&&(e.type&&"checkbox"===e.type?e.checked=t[s]:i.val(t[s]))})},getItem:function(t){return this.find("[name="+t+"]")}}),r.add("class","modal.element",{"extends":["dom"],init:function(t,e){this.app=t,this.opts=t.opts,this.$win=t.$win,this._init(e)},getForm:function(){return this.find("form")},getHeader:function(){return this.$modalHeader},getBody:function(){return this.$modalBody},getFooter:function(){return this.$modalFooter},setTitle:function(t){t&&this.$modalHeader.html(t)},setWidth:function(t){t=parseInt(t)>=this.$win.width()?"96%":t,this.css("max-width",t)},setHeight:function(t){t!==!1&&this.$modalBody.css("height",t)},updatePosition:function(){var t=this.width();this.css({left:"50%","margin-left":"-"+t/2+"px"});var e=this.$win.height(),i=this.height(),s=e/2-i/2;e>i&&0!==s&&this.css("margin-top",s+"px")},isCloseNode:function(t){return t===this.$modalClose.get()},_init:function(t){this._build(),this._buildClose(),this._buildHeader(),this._buildBody(),this._buildFooter(),this._buildTemplate(t)},_build:function(){this.parse("<div>"),this.addClass("modal"),this.attr("dir",this.opts.direction)},_buildClose:function(){this.$modalClose=r.dom("<span>"),this.$modalClose.addClass("close"),this.append(this.$modalClose)},_buildHeader:function(){this.$modalHeader=r.dom("<div>"),this.$modalHeader.addClass("modal-header"),this.append(this.$modalHeader)},_buildBody:function(){this.$modalBody=r.dom("<div>"),this.$modalBody.addClass("modal-body"),this.append(this.$modalBody)},_buildFooter:function(){this.$modalFooter=r.dom("<div>"),this.$modalFooter.addClass("modal-footer"),this.append(this.$modalFooter)},_buildTemplate:function(t){this.$modalBody.html(t)}}),r.add("service","observer",{init:function(t){this.app=t,this.opts=t.opts,this._isObserve()&&this._build()},_isObserve:function(){return"undefined"!=typeof this.opts.observer&&window.MutationObserver},_build:function(){var t=this,e=new MutationObserver(function(e){e.forEach(function(e){var i=e.addedNodes;0===i.length||1===i.length&&3===i.nodeType||t._iterate()})});e.observe(document,{subtree:!0,childList:!0})},_iterate:function(){var t=this,e=r.dom("[data-kube]").not("[data-loaded]");e.each(function(e,i){var s=r.dom(e),n=s.attr("data-kube"),o=s.attr("id")?s.attr("id"):n+"-"+(t.app.servicesIndex+i),a=new d.Module(t.app,s,n,o);t._storeElementModule(a,n,o),t._call(a,"start")}),"undefined"!=typeof $R&&$R("[data-redactor]")},_call:function(t,e,i){return"function"==typeof t[e]?t[e].apply(t,i):void 0},_storeElementModule:function(t,e,i){t&&("undefined"==typeof this.app.modules[e]&&(this.app.modules[e]={}),this.app.modules[e][i]=t)}}),r.add("service","utils",{init:function(t){this.app=t},parseOptsString:function(t){var e=t.replace("{","").replace("}","").trim().replace(/;$/,"").split(";"),i={};return e.forEach(function(t){var e=t.split(":");i[e[0].trim()]=e[1].trim().replace(/'/g,"")}),i},ucfirst:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},checkProperty:function(t){for(var e=arguments[1]&&Array.isArray(arguments[1])?arguments[1]:[].slice.call(arguments,1),i=0;i<e.length;i++){if(!t||"undefined"==typeof t[e[i]])return!1;t=t[e[i]]}return t},extendData:function(t,e){if("object"==typeof e)t=r.extend({},t,e);else if("string"==typeof e){var i=r.dom(e);i.each(function(e){var i=r.dom(e);if("FORM"===e.tagName)t=r.extend({},t,i.serialize(!0));else{var s=i.attr("name")?i.attr("name"):i.attr("id"),n=i.val();t[s]=this._isNumber(n)?parseFloat(n):this._getBooleanFromStr(n)}})}return t},_isNumber:function(t){return!isNaN(t)&&!isNaN(parseFloat(t))},_getBooleanFromStr:function(t){return"true"===t?!0:"false"===t?!1:t}}),window.Kube=window.$K=r}(),function(t){t.add("module","alert",{init:function(t,e){this.app=t,this.animate=t.animate,this.context=e,this.$element=e.getElement()},onclick:function(t,e,i){"close"===i&&this.close(t)},open:function(t){this.$element.isOpened()||(t&&t.preventDefault(),this.app.broadcast("alert.open",this),this.animate.run(this.$element,"fadeIn",this._opened.bind(this)))},close:function(t){this.$element.isClosed()||(t&&t.preventDefault(),this.app.broadcast("alert.close",this),this.animate.run(this.$element,"fadeOut",this._closed.bind(this)))},_opened:function(){this.app.broadcast("alert.opened",this)},_closed:function(){this.app.broadcast("alert.closed",this)}})}(Kube),function(t){t.add("module","toggle",{init:function(t,e){this.app=t,this.animate=t.animate;var i={target:!1};this.context=e,this.params=e.getParams(i),this.$element=e.getElement(),this.$target=e.getTarget()},start:function(){this.$element.on("click.kube.toggle",this.toggle.bind(this))},stop:function(){this.$element.off(".kube.toggle")},toggle:function(t){return this.$target.isOpened()?this.close(t):this.open(t)},open:function(t){this.$target.isOpened()||(t&&t.preventDefault(),this.app.broadcast("toggle.open",this),this.animate.run(this.$target,"slideDown",this._opened.bind(this)))},close:function(t){this.$target.isClosed()||(t&&t.preventDefault(),this.app.broadcast("toggle.close",this),this.animate.run(this.$target,"slideUp",this._closed.bind(this)))},_opened:function(){this.app.broadcast("toggle.opened",this)},_closed:function(){this.app.broadcast("toggle.closed",this)}})}(Kube),function(t){t.add("module","sticky",{init:function(t,e){this.app=t,this.$win=t.$win;var i={offset:0};this.context=e,this.params=e.getParams(i),this.$element=e.getElement()},start:function(){this.offsetTop=this._getOffsetTop(),this._load(),this.$win.on("scroll.kube.sticky",this._load.bind(this))},stop:function(){this.$win.off("scroll.kube.sticky"),this.$element.removeClass("fixed").css("top","")},_load:function(){return this._isFix()?this._setFixed():this._setUnfixed()},_isFix:function(){return this.$win.scrollTop()>this.offsetTop+parseInt(this.params.offset,10)},_setFixed:function(){this.$element.addClass("is-fixed").css("top",this.params.offset),this.app.broadcast("sticky.fixed",this)},_setUnfixed:function(){this.$element.removeClass("is-fixed").css("top",""),this.app.broadcast("sticky.unfixed",this)},_getOffsetTop:function(){return this.$element.offset().top}})}(Kube),function(t){t.add("module","offcanvas",{init:function(t,e){this.app=t,this.$doc=t.$doc,this.$body=t.$body,this.utils=t.utils,this.animate=t.animate,this.transition=t.transition;var i={clickOutside:!0,target:!1};this.context=e,this.params=e.getParams(i),this.$element=e.getElement(),this.$target=e.getTarget(),this._build()},start:function(){this.$element.on("click.kube.offcanvas",this.toggle.bind(this))},stop:function(){this._clear()},toggle:function(t){return this.$target.isOpened()?this.close(t):this.open(t)},open:function(t){return t&&(t.stopPropagation(),t.preventDefault()),this._clear(),this.$body.addClass("is-no-scroll-x"),this.$target.addClass("is-offcanvas"),this.targetWidth=this.$target.width(),this._resize(),this.app.broadcast("offcanvas.open",this),this.isSlide?this._openSlide():this._openPush()},close:function(e){if(!this.eventScroll){if(e){var i=t.dom(e.target),s=i.get(),n="A"===s.tagName||"BUTTON"===s.tagName;n&&s!==this.$element.get()||(e.stopPropagation(),e.preventDefault())}return this.app.broadcast("offcanvas.close",this),this.isSlide?this._closeSlide():this._closePush()}},_build:function(){this.isSlide=!this.$target.hasClass("is-offcanvas-push"),this.slideDirection=this.$target.hasClass("is-offcanvas-right")?"Right":"Left",this.pushSign="Left"===this.slideDirection?"":"-",this.eventScroll=!1},_handleKeyboard:function(t){27===t.which&&this.close()},_openSlide:function(){this.animate.run(this.$target,"slideIn"+this.slideDirection,this._opened.bind(this))},_openPush:function(){this.$target.show(),this._pushBody(this.pushSign+this.targetWidth+"px",this._opened.bind(this))},_opened:function(){this.$doc.on("touchmove.kube.offcanvas",function(){this.eventScroll=!0}.bind(this)),this.$doc.on("touchstart.kube.offcanvas",function(){this.eventScroll=!1}.bind(this)),this.$doc.on("keyup.kube.offcanvas",this._handleKeyboard.bind(this)),this.params.clickOutside&&this.$doc.on("click.kube.offcanvas touchend.kube.offcanvas",this.close.bind(this)),this.app.broadcast("offcanvas.opened",this)},_closeSlide:function(){this.animate.run(this.$target,"slideOut"+this.slideDirection,this._closed.bind(this))},_closePush:function(){this._pushBody("0",this._closed.bind(this))},_closed:function(){this.$doc.off(".kube.offcanvas"),this.$body.removeClass("is-no-scroll-x"),this.transition.remove(this.$body),this.$target.removeClass("is-offcanvas"),this.$target.hide(),this.app.broadcast("offcanvas.closed",this)},_pushBody:function(t,e){var i={classname:"is-offcanvasTransition",css:{transform:"translateX("+t+")"},callback:e};this.transition.run(this.$body,i,e)},_resize:function(){var t=function(){this.$target.height(this.$doc.height())}.bind(this);t(),this.$doc.on("resize.kube.offcanvas",t)},_clear:function(){this.$doc.off(".kube.offcanvas"),this.transition.remove(this.$body),t.dom(".is-offcanvas").each(function(e){var i=t.dom(e);this.animate.remove(i),i.hide(),i.removeClass("is-offcanvas")}.bind(this))}})}(Kube),function(t){t.add("module","tabs",{init:function(e,i){this.app=e,this.$body=e.$body;var s={equal:!1};this.context=i,this.params=i.getParams(s),this.$element=i.getElement(),this.$boxes=t.dom([]),this.$tabActive=!1,this.$boxActive=!1},start:function(){this._buildControls(),this._buildBoxes(),this._setEqualBoxes(),this._open()},stop:function(){this.$tabsControls.off(".kube.tabs")},getActiveTab:function(){return this.$tabActive},getActiveBox:function(){return this.$boxActive},_toggle:function(e){e&&(e.stopPropagation(),e.preventDefault());var i=t.dom(e.target);this._getBox(i);i.hasClass("is-active")||(this._open(i),this.app.broadcast("tabs.opened",this))},_buildControls:function(){this.$tabsControls=this.$element.find("a"),this.$tabsControls.on("click.kube.tabs",this._toggle.bind(this))},_buildBoxes:function(){this.$tabsControls.each(function(e,i){var s=t.dom(e),n=this._getBox(s);this.$boxes.add(n),0===i&&(this.$tabActive=s),s.hasClass("is-active")&&(this.$tabActive=s)}.bind(this))},_open:function(t){this.$tabActive=t?t:this.$tabActive,this.$tabsControls.removeClass("is-active"),this.$tabActive.addClass("is-active"),this.$boxActive=this._getBox(this.$tabActive),this.$boxes.addClass("is-hidden").removeClass("is-open"),this.$boxActive.removeClass("is-hidden").addClass("is-open")},_getBox:function(e){return t.dom(e.attr("href"))},_setEqualBoxes:function(){if(this.params.equal){var t=this._getItemMaxHeight()+"px";this.$boxes.css("min-height",t)}},_getItemMaxHeight:function(){var e=0;return this.$boxes.each(function(i){var s=t.dom(i),n=s.height();e=n>e?n:e}),e}})}(Kube),function(t){t.add("module","dropdown",{init:function(t,e){this.app=t,this.$doc=t.$doc,this.$win=t.$win,this.$body=t.$body,this.utils=t.utils,this.animate=t.animate;var i={target:!1};this.context=e,this.params=e.getParams(i),this.$element=e.getElement(),this.$target=e.getTarget(),this.animationOpen="slideDown",this.animationClose="slideUp"},start:function(){this.$element.on("click.kube.dropdown",this.toggle.bind(this))},stop:function(){this.animate.clear(this.$target),this.$target.hide(),this.$element.off(".kube.dropdown"),this.$doc.off(".kube.dropdown"),this.$win.off(".kube.dropdown")},toggle:function(t){return this.$target.isOpened()?this.close(t):this.open(t)},open:function(e){this.$target.isOpened()||(e&&(e.stopPropagation(),e.preventDefault()),this.$doc.off(".kube.dropdown"),this.$win.off(".kube.dropdown"),this.$body.find(".dropdown").each(function(e){var i=t.dom(e);this.animate.remove(i),i.hide()}.bind(this)),this._openCaret(),this._setPosition(),this.$element.addClass("dropdown-in"),this.app.broadcast("dropdown.open",this),this.animate.run(this.$target,this.animationOpen,this._opened.bind(this)))},close:function(e){if(!this.$target.isClosed()){if(e){var i=e.target,s=t.dom(i),n="A"===i.tagName||"BUTTON"===i.tagName;(!n||i===this.$element.get()||"A"===i.tagName&&s.hasClass("is-active"))&&(e.stopPropagation(),e.preventDefault())}this.app.broadcast("dropdown.close",this),this.animate.run(this.$target,this.animationClose,this._closed.bind(this))}},_getPlacement:function(){var t=this.$element.position(),e=parseFloat(this.$element.css("height"))+t.top+parseFloat(this.$target.css("height"));return this.$doc.height()<e?"top":"bottom"},_setPosition:function(){var t=parseFloat(this.$element.css("height")),e=this.$element.offset(),i=e.top+t,s=e.left,n=parseFloat(this.$target.css("height")),o=this._getPlacement(),a=parseFloat(this.$target.css("width")),r=parseFloat(this.$element.css("border-left-width"))+parseFloat(this.$element.css("border-right-width")),h=this.$win.width()<s+a?a-this.$element.width()-r:0;"top"===o?(i=i-n-t,this.animationOpen="show",this.animationClose="hide"):(this.animationOpen="slideDown",this.animationClose="slideUp"),this.$target.css({top:i+"px",left:s-h+"px"})},_handleKeyboard:function(t){27===t.which&&this.close()},_opened:function(){this.$doc.on("keyup.kube.dropdown",this._handleKeyboard.bind(this)),this.$doc.on("click.kube.dropdown touchstart.kube.dropdown",this.close.bind(this)),this.$doc.on("scroll.kube.dropdown",this._setPosition.bind(this)),this.$win.on("resize.kube.dropdown",this._setPosition.bind(this)),this.app.broadcast("dropdown.opened",this)},_closed:function(){this.$doc.off(".kube.dropdown"),this.$win.off(".kube.dropdown"),this._closeCaret(),this.$element.removeClass("dropdown-in"),this.app.broadcast("dropdown.closed",this)},_openCaret:function(){var t=this.$element.find(".caret");t.removeClass("is-down").addClass("is-left")},_closeCaret:function(){var t=this.$element.find(".caret");t.removeClass("is-left").addClass("is-down")}})}(Kube);;!function($){var e=!0;$.flexslider=function(t,a){var n=$(t);void 0===a.rtl&&"rtl"==$("html").attr("dir")&&(a.rtl=!0),n.vars=$.extend({},$.flexslider.defaults,a);var i=n.vars.namespace,r=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,s=("ontouchstart"in window||r||window.DocumentTouch&&document instanceof DocumentTouch)&&n.vars.touch,o="click touchend MSPointerUp keyup",l="",c,d="vertical"===n.vars.direction,u=n.vars.reverse,v=n.vars.itemWidth>0,p="fade"===n.vars.animation,m=""!==n.vars.asNavFor,f={};$.data(t,"flexslider",n),f={init:function(){n.animating=!1,n.currentSlide=parseInt(n.vars.startAt?n.vars.startAt:0,10),isNaN(n.currentSlide)&&(n.currentSlide=0),n.animatingTo=n.currentSlide,n.atEnd=0===n.currentSlide||n.currentSlide===n.last,n.containerSelector=n.vars.selector.substr(0,n.vars.selector.search(" ")),n.slides=$(n.vars.selector,n),n.container=$(n.containerSelector,n),n.count=n.slides.length,n.syncExists=$(n.vars.sync).length>0,"slide"===n.vars.animation&&(n.vars.animation="swing"),n.prop=d?"top":n.vars.rtl?"marginRight":"marginLeft",n.args={},n.manualPause=!1,n.stopped=!1,n.started=!1,n.startTimeout=null,n.transitions=!n.vars.video&&!p&&n.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var a in t)if(void 0!==e.style[t[a]])return n.pfx=t[a].replace("Perspective","").toLowerCase(),n.prop="-"+n.pfx+"-transform",!0;return!1}(),n.isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,n.ensureAnimationEnd="",""!==n.vars.controlsContainer&&(n.controlsContainer=$(n.vars.controlsContainer).length>0&&$(n.vars.controlsContainer)),""!==n.vars.manualControls&&(n.manualControls=$(n.vars.manualControls).length>0&&$(n.vars.manualControls)),""!==n.vars.customDirectionNav&&(n.customDirectionNav=2===$(n.vars.customDirectionNav).length&&$(n.vars.customDirectionNav)),n.vars.randomize&&(n.slides.sort(function(){return Math.round(Math.random())-.5}),n.container.empty().append(n.slides)),n.doMath(),n.setup("init"),n.vars.controlNav&&f.controlNav.setup(),n.vars.directionNav&&f.directionNav.setup(),n.vars.keyboard&&(1===$(n.containerSelector).length||n.vars.multipleKeyboard)&&$(document).bind("keyup",function(e){var t=e.keyCode;if(!n.animating&&(39===t||37===t)){var a=n.vars.rtl?37===t?n.getTarget("next"):39===t&&n.getTarget("prev"):39===t?n.getTarget("next"):37===t&&n.getTarget("prev");n.flexAnimate(a,n.vars.pauseOnAction)}}),n.vars.mousewheel&&n.bind("mousewheel",function(e,t,a,i){e.preventDefault();var r=t<0?n.getTarget("next"):n.getTarget("prev");n.flexAnimate(r,n.vars.pauseOnAction)}),n.vars.pausePlay&&f.pausePlay.setup(),n.vars.slideshow&&n.vars.pauseInvisible&&f.pauseInvisible.init(),n.vars.slideshow&&(n.vars.pauseOnHover&&n.hover(function(){n.manualPlay||n.manualPause||n.pause()},function(){n.manualPause||n.manualPlay||n.stopped||n.play()}),n.vars.pauseInvisible&&f.pauseInvisible.isHidden()||(n.vars.initDelay>0?n.startTimeout=setTimeout(n.play,n.vars.initDelay):n.play())),m&&f.asNav.setup(),s&&n.vars.touch&&f.touch(),(!p||p&&n.vars.smoothHeight)&&$(window).bind("resize orientationchange focus",f.resize),n.find("img").attr("draggable","false"),setTimeout(function(){n.vars.start(n)},200)},asNav:{setup:function(){n.asNav=!0,n.animatingTo=Math.floor(n.currentSlide/n.move),n.currentItem=n.currentSlide,n.slides.removeClass(i+"active-slide").eq(n.currentItem).addClass(i+"active-slide"),r?(t._slider=n,n.slides.each(function(){var e=this;e._gesture=new MSGesture,e._gesture.target=e,e.addEventListener("MSPointerDown",function(e){e.preventDefault(),e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1),e.addEventListener("MSGestureTap",function(e){e.preventDefault();var t=$(this),a=t.index();$(n.vars.asNavFor).data("flexslider").animating||t.hasClass("active")||(n.direction=n.currentItem<a?"next":"prev",n.flexAnimate(a,n.vars.pauseOnAction,!1,!0,!0))})})):n.slides.on(o,function(e){e.preventDefault();var t=$(this),a=t.index(),r;r=n.vars.rtl?-1*(t.offset().right-$(n).scrollLeft()):t.offset().left-$(n).scrollLeft(),r<=0&&t.hasClass(i+"active-slide")?n.flexAnimate(n.getTarget("prev"),!0):$(n.vars.asNavFor).data("flexslider").animating||t.hasClass(i+"active-slide")||(n.direction=n.currentItem<a?"next":"prev",n.flexAnimate(a,n.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){n.manualControls?f.controlNav.setupManual():f.controlNav.setupPaging()},setupPaging:function(){var e="thumbnails"===n.vars.controlNav?"control-thumbs":"control-paging",t=1,a,r;if(n.controlNavScaffold=$('<ol class="'+i+"control-nav "+i+e+'"></ol>'),n.pagingCount>1)for(var s=0;s<n.pagingCount;s++){if(r=n.slides.eq(s),void 0===r.attr("data-thumb-alt")&&r.attr("data-thumb-alt",""),a=$("<a></a>").attr("href","#").text(t),"thumbnails"===n.vars.controlNav&&(a=$("<img/>").attr("src",r.attr("data-thumb"))),""!==r.attr("data-thumb-alt")&&a.attr("alt",r.attr("data-thumb-alt")),"thumbnails"===n.vars.controlNav&&!0===n.vars.thumbCaptions){var c=r.attr("data-thumbcaption");if(""!==c&&void 0!==c){var d=$("<span></span>").addClass(i+"caption").text(c);a.append(d)}}var u=$("<li>");a.appendTo(u),u.append("</li>"),n.controlNavScaffold.append(u),t++}n.controlsContainer?$(n.controlsContainer).append(n.controlNavScaffold):n.append(n.controlNavScaffold),f.controlNav.set(),f.controlNav.active(),n.controlNavScaffold.delegate("a, img",o,function(e){if(e.preventDefault(),""===l||l===e.type){var t=$(this),a=n.controlNav.index(t);t.hasClass(i+"active")||(n.direction=a>n.currentSlide?"next":"prev",n.flexAnimate(a,n.vars.pauseOnAction))}""===l&&(l=e.type),f.setToClearWatchedEvent()})},setupManual:function(){n.controlNav=n.manualControls,f.controlNav.active(),n.controlNav.bind(o,function(e){if(e.preventDefault(),""===l||l===e.type){var t=$(this),a=n.controlNav.index(t);t.hasClass(i+"active")||(a>n.currentSlide?n.direction="next":n.direction="prev",n.flexAnimate(a,n.vars.pauseOnAction))}""===l&&(l=e.type),f.setToClearWatchedEvent()})},set:function(){var e="thumbnails"===n.vars.controlNav?"img":"a";n.controlNav=$("."+i+"control-nav li "+e,n.controlsContainer?n.controlsContainer:n)},active:function(){n.controlNav.removeClass(i+"active").eq(n.animatingTo).addClass(i+"active")},update:function(e,t){n.pagingCount>1&&"add"===e?n.controlNavScaffold.append($('<li><a href="#">'+n.count+"</a></li>")):1===n.pagingCount?n.controlNavScaffold.find("li").remove():n.controlNav.eq(t).closest("li").remove(),f.controlNav.set(),n.pagingCount>1&&n.pagingCount!==n.controlNav.length?n.update(t,e):f.controlNav.active()}},directionNav:{setup:function(){var e=$('<ul class="'+i+'direction-nav"><li class="'+i+'nav-prev"><a class="'+i+'prev" href="#">'+n.vars.prevText+'</a></li><li class="'+i+'nav-next"><a class="'+i+'next" href="#">'+n.vars.nextText+"</a></li></ul>");n.customDirectionNav?n.directionNav=n.customDirectionNav:n.controlsContainer?($(n.controlsContainer).append(e),n.directionNav=$("."+i+"direction-nav li a",n.controlsContainer)):(n.append(e),n.directionNav=$("."+i+"direction-nav li a",n)),f.directionNav.update(),n.directionNav.bind(o,function(e){e.preventDefault();var t;""!==l&&l!==e.type||(t=$(this).hasClass(i+"next")?n.getTarget("next"):n.getTarget("prev"),n.flexAnimate(t,n.vars.pauseOnAction)),""===l&&(l=e.type),f.setToClearWatchedEvent()})},update:function(){var e=i+"disabled";1===n.pagingCount?n.directionNav.addClass(e).attr("tabindex","-1"):n.vars.animationLoop?n.directionNav.removeClass(e).removeAttr("tabindex"):0===n.animatingTo?n.directionNav.removeClass(e).filter("."+i+"prev").addClass(e).attr("tabindex","-1"):n.animatingTo===n.last?n.directionNav.removeClass(e).filter("."+i+"next").addClass(e).attr("tabindex","-1"):n.directionNav.removeClass(e).removeAttr("tabindex")}},pausePlay:{setup:function(){var e=$('<div class="'+i+'pauseplay"><a href="#"></a></div>');n.controlsContainer?(n.controlsContainer.append(e),n.pausePlay=$("."+i+"pauseplay a",n.controlsContainer)):(n.append(e),n.pausePlay=$("."+i+"pauseplay a",n)),f.pausePlay.update(n.vars.slideshow?i+"pause":i+"play"),n.pausePlay.bind(o,function(e){e.preventDefault(),""!==l&&l!==e.type||($(this).hasClass(i+"pause")?(n.manualPause=!0,n.manualPlay=!1,n.pause()):(n.manualPause=!1,n.manualPlay=!0,n.play())),""===l&&(l=e.type),f.setToClearWatchedEvent()})},update:function(e){"play"===e?n.pausePlay.removeClass(i+"pause").addClass(i+"play").html(n.vars.playText):n.pausePlay.removeClass(i+"play").addClass(i+"pause").html(n.vars.pauseText)}},touch:function(){function e(e){e.stopPropagation(),n.animating?e.preventDefault():(n.pause(),t._gesture.addPointer(e.pointerId),w=0,c=d?n.h:n.w,f=Number(new Date),l=v&&u&&n.animatingTo===n.last?0:v&&u?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:v&&n.currentSlide===n.last?n.limit:v?(n.itemW+n.vars.itemMargin)*n.move*n.currentSlide:u?(n.last-n.currentSlide+n.cloneOffset)*c:(n.currentSlide+n.cloneOffset)*c)}function a(e){e.stopPropagation();var a=e.target._slider;if(a){var n=-e.translationX,i=-e.translationY;if(w+=d?i:n,m=(a.vars.rtl?-1:1)*w,x=d?Math.abs(w)<Math.abs(-n):Math.abs(w)<Math.abs(-i),e.detail===e.MSGESTURE_FLAG_INERTIA)return void setImmediate(function(){t._gesture.stop()});(!x||Number(new Date)-f>500)&&(e.preventDefault(),!p&&a.transitions&&(a.vars.animationLoop||(m=w/(0===a.currentSlide&&w<0||a.currentSlide===a.last&&w>0?Math.abs(w)/c+2:1)),a.setProps(l+m,"setTouch")))}}function i(e){e.stopPropagation();var t=e.target._slider;if(t){if(t.animatingTo===t.currentSlide&&!x&&null!==m){var a=u?-m:m,n=a>0?t.getTarget("next"):t.getTarget("prev");t.canAdvance(n)&&(Number(new Date)-f<550&&Math.abs(a)>50||Math.abs(a)>c/2)?t.flexAnimate(n,t.vars.pauseOnAction):p||t.flexAnimate(t.currentSlide,t.vars.pauseOnAction,!0)}s=null,o=null,m=null,l=null,w=0}}var s,o,l,c,m,f,g,h,S,x=!1,y=0,b=0,w=0;r?(t.style.msTouchAction="none",t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",e,!1),t._slider=n,t.addEventListener("MSGestureChange",a,!1),t.addEventListener("MSGestureEnd",i,!1)):(g=function(e){n.animating?e.preventDefault():(window.navigator.msPointerEnabled||1===e.touches.length)&&(n.pause(),c=d?n.h:n.w,f=Number(new Date),y=e.touches[0].pageX,b=e.touches[0].pageY,l=v&&u&&n.animatingTo===n.last?0:v&&u?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:v&&n.currentSlide===n.last?n.limit:v?(n.itemW+n.vars.itemMargin)*n.move*n.currentSlide:u?(n.last-n.currentSlide+n.cloneOffset)*c:(n.currentSlide+n.cloneOffset)*c,s=d?b:y,o=d?y:b,t.addEventListener("touchmove",h,!1),t.addEventListener("touchend",S,!1))},h=function(e){y=e.touches[0].pageX,b=e.touches[0].pageY,m=d?s-b:(n.vars.rtl?-1:1)*(s-y),x=d?Math.abs(m)<Math.abs(y-o):Math.abs(m)<Math.abs(b-o);var t=500;(!x||Number(new Date)-f>500)&&(e.preventDefault(),!p&&n.transitions&&(n.vars.animationLoop||(m/=0===n.currentSlide&&m<0||n.currentSlide===n.last&&m>0?Math.abs(m)/c+2:1),n.setProps(l+m,"setTouch")))},S=function(e){if(t.removeEventListener("touchmove",h,!1),n.animatingTo===n.currentSlide&&!x&&null!==m){var a=u?-m:m,i=a>0?n.getTarget("next"):n.getTarget("prev");n.canAdvance(i)&&(Number(new Date)-f<550&&Math.abs(a)>50||Math.abs(a)>c/2)?n.flexAnimate(i,n.vars.pauseOnAction):p||n.flexAnimate(n.currentSlide,n.vars.pauseOnAction,!0)}t.removeEventListener("touchend",S,!1),s=null,o=null,m=null,l=null},t.addEventListener("touchstart",g,!1))},resize:function(){!n.animating&&n.is(":visible")&&(v||n.doMath(),p?f.smoothHeight():v?(n.slides.width(n.computedW),n.update(n.pagingCount),n.setProps()):d?(n.viewport.height(n.h),n.setProps(n.h,"setTotal")):(n.vars.smoothHeight&&f.smoothHeight(),n.newSlides.width(n.computedW),n.setProps(n.computedW,"setTotal")))},smoothHeight:function(e){if(!d||p){var t=p?n:n.viewport;e?t.animate({height:n.slides.eq(n.animatingTo).innerHeight()},e):t.innerHeight(n.slides.eq(n.animatingTo).innerHeight())}},sync:function(e){var t=$(n.vars.sync).data("flexslider"),a=n.animatingTo;switch(e){case"animate":t.flexAnimate(a,n.vars.pauseOnAction,!1,!0);break;case"play":t.playing||t.asNav||t.play();break;case"pause":t.pause();break}},uniqueID:function(e){return e.filter("[id]").add(e.find("[id]")).each(function(){var e=$(this);e.attr("id",e.attr("id")+"_clone")}),e},pauseInvisible:{visProp:null,init:function(){var e=f.pauseInvisible.getHiddenProp();if(e){var t=e.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(t,function(){f.pauseInvisible.isHidden()?n.startTimeout?clearTimeout(n.startTimeout):n.pause():n.started?n.play():n.vars.initDelay>0?setTimeout(n.play,n.vars.initDelay):n.play()})}},isHidden:function(){var e=f.pauseInvisible.getHiddenProp();return!!e&&document[e]},getHiddenProp:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(c),c=setTimeout(function(){l=""},3e3)}},n.flexAnimate=function(e,t,a,r,o){if(n.vars.animationLoop||e===n.currentSlide||(n.direction=e>n.currentSlide?"next":"prev"),m&&1===n.pagingCount&&(n.direction=n.currentItem<e?"next":"prev"),!n.animating&&(n.canAdvance(e,o)||a)&&n.is(":visible")){if(m&&r){var l=$(n.vars.asNavFor).data("flexslider");if(n.atEnd=0===e||e===n.count-1,l.flexAnimate(e,!0,!1,!0,o),n.direction=n.currentItem<e?"next":"prev",l.direction=n.direction,Math.ceil((e+1)/n.visible)-1===n.currentSlide||0===e)return n.currentItem=e,n.slides.removeClass(i+"active-slide").eq(e).addClass(i+"active-slide"),!1;n.currentItem=e,n.slides.removeClass(i+"active-slide").eq(e).addClass(i+"active-slide"),e=Math.floor(e/n.visible)}if(n.animating=!0,n.animatingTo=e,t&&n.pause(),n.vars.before(n),n.syncExists&&!o&&f.sync("animate"),n.vars.controlNav&&f.controlNav.active(),v||n.slides.removeClass(i+"active-slide").eq(e).addClass(i+"active-slide"),n.atEnd=0===e||e===n.last,n.vars.directionNav&&f.directionNav.update(),e===n.last&&(n.vars.end(n),n.vars.animationLoop||n.pause()),p)s?(n.slides.eq(n.currentSlide).css({opacity:0,zIndex:1}),n.slides.eq(e).css({opacity:1,zIndex:2}),n.wrapup(c)):(n.slides.eq(n.currentSlide).css({zIndex:1}).animate({opacity:0},n.vars.animationSpeed,n.vars.easing),n.slides.eq(e).css({zIndex:2}).animate({opacity:1},n.vars.animationSpeed,n.vars.easing,n.wrapup));else{var c=d?n.slides.filter(":first").height():n.computedW,g,h,S;v?(g=n.vars.itemMargin,S=(n.itemW+g)*n.move*n.animatingTo,h=S>n.limit&&1!==n.visible?n.limit:S):h=0===n.currentSlide&&e===n.count-1&&n.vars.animationLoop&&"next"!==n.direction?u?(n.count+n.cloneOffset)*c:0:n.currentSlide===n.last&&0===e&&n.vars.animationLoop&&"prev"!==n.direction?u?0:(n.count+1)*c:u?(n.count-1-e+n.cloneOffset)*c:(e+n.cloneOffset)*c,n.setProps(h,"",n.vars.animationSpeed),n.transitions?(n.vars.animationLoop&&n.atEnd||(n.animating=!1,n.currentSlide=n.animatingTo),n.container.unbind("webkitTransitionEnd transitionend"),n.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(n.ensureAnimationEnd),n.wrapup(c)}),clearTimeout(n.ensureAnimationEnd),n.ensureAnimationEnd=setTimeout(function(){n.wrapup(c)},n.vars.animationSpeed+100)):n.container.animate(n.args,n.vars.animationSpeed,n.vars.easing,function(){n.wrapup(c)})}n.vars.smoothHeight&&f.smoothHeight(n.vars.animationSpeed)}},n.wrapup=function(e){p||v||(0===n.currentSlide&&n.animatingTo===n.last&&n.vars.animationLoop?n.setProps(e,"jumpEnd"):n.currentSlide===n.last&&0===n.animatingTo&&n.vars.animationLoop&&n.setProps(e,"jumpStart")),n.animating=!1,n.currentSlide=n.animatingTo,n.vars.after(n)},n.animateSlides=function(){!n.animating&&e&&n.flexAnimate(n.getTarget("next"))},n.pause=function(){clearInterval(n.animatedSlides),n.animatedSlides=null,n.playing=!1,n.vars.pausePlay&&f.pausePlay.update("play"),n.syncExists&&f.sync("pause")},n.play=function(){n.playing&&clearInterval(n.animatedSlides),n.animatedSlides=n.animatedSlides||setInterval(n.animateSlides,n.vars.slideshowSpeed),n.started=n.playing=!0,n.vars.pausePlay&&f.pausePlay.update("pause"),n.syncExists&&f.sync("play")},n.stop=function(){n.pause(),n.stopped=!0},n.canAdvance=function(e,t){var a=m?n.pagingCount-1:n.last;return!!t||(!(!m||n.currentItem!==n.count-1||0!==e||"prev"!==n.direction)||(!m||0!==n.currentItem||e!==n.pagingCount-1||"next"===n.direction)&&(!(e===n.currentSlide&&!m)&&(!!n.vars.animationLoop||(!n.atEnd||0!==n.currentSlide||e!==a||"next"===n.direction)&&(!n.atEnd||n.currentSlide!==a||0!==e||"next"!==n.direction))))},n.getTarget=function(e){return n.direction=e,"next"===e?n.currentSlide===n.last?0:n.currentSlide+1:0===n.currentSlide?n.last:n.currentSlide-1},n.setProps=function(e,t,a){var i=function(){var a=e||(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo;return function(){if(v)return"setTouch"===t?e:u&&n.animatingTo===n.last?0:u?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:n.animatingTo===n.last?n.limit:a;switch(t){case"setTotal":return u?(n.count-1-n.currentSlide+n.cloneOffset)*e:(n.currentSlide+n.cloneOffset)*e;case"setTouch":return e;case"jumpEnd":return u?e:n.count*e;case"jumpStart":return u?n.count*e:e;default:return e}}()*(n.vars.rtl?1:-1)+"px"}();n.transitions&&(i=n.isFirefox?d?"translate3d(0,"+i+",0)":"translate3d("+parseInt(i)+"px,0,0)":d?"translate3d(0,"+i+",0)":"translate3d("+(n.vars.rtl?-1:1)*parseInt(i)+"px,0,0)",a=void 0!==a?a/1e3+"s":"0s",n.container.css("-"+n.pfx+"-transition-duration",a),n.container.css("transition-duration",a)),n.args[n.prop]=i,(n.transitions||void 0===a)&&n.container.css(n.args),n.container.css("transform",i)},n.setup=function(e){if(p)n.vars.rtl?n.slides.css({width:"100%",float:"right",marginLeft:"-100%",position:"relative"}):n.slides.css({width:"100%",float:"left",marginRight:"-100%",position:"relative"}),"init"===e&&(s?n.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+n.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(n.currentSlide).css({opacity:1,zIndex:2}):0==n.vars.fadeFirstSlide?n.slides.css({opacity:0,display:"block",zIndex:1}).eq(n.currentSlide).css({zIndex:2}).css({opacity:1}):n.slides.css({opacity:0,display:"block",zIndex:1}).eq(n.currentSlide).css({zIndex:2}).animate({opacity:1},n.vars.animationSpeed,n.vars.easing)),n.vars.smoothHeight&&f.smoothHeight();else{var t,a;"init"===e&&(n.viewport=$('<div class="'+i+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(n).append(n.container),n.cloneCount=0,n.cloneOffset=0,u&&(a=$.makeArray(n.slides).reverse(),n.slides=$(a),n.container.empty().append(n.slides))),n.vars.animationLoop&&!v&&(n.cloneCount=2,n.cloneOffset=1,"init"!==e&&n.container.find(".clone").remove(),n.container.append(f.uniqueID(n.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(f.uniqueID(n.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),n.newSlides=$(n.vars.selector,n),t=u?n.count-1-n.currentSlide+n.cloneOffset:n.currentSlide+n.cloneOffset,d&&!v?(n.container.height(200*(n.count+n.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){n.newSlides.css({display:"block"}),n.doMath(),n.viewport.height(n.h),n.setProps(t*n.h,"init")},"init"===e?100:0)):(n.container.width(200*(n.count+n.cloneCount)+"%"),n.setProps(t*n.computedW,"init"),setTimeout(function(){n.doMath(),n.vars.rtl&&n.isFirefox?n.newSlides.css({width:n.computedW,marginRight:n.computedM,float:"right",display:"block"}):n.newSlides.css({width:n.computedW,marginRight:n.computedM,float:"left",display:"block"}),n.vars.smoothHeight&&f.smoothHeight()},"init"===e?100:0))}v||n.slides.removeClass(i+"active-slide").eq(n.currentSlide).addClass(i+"active-slide"),n.vars.init(n)},n.doMath=function(){var e=n.slides.first(),t=n.vars.itemMargin,a=n.vars.minItems,i=n.vars.maxItems;n.w=void 0===n.viewport?n.width():n.viewport.width(),n.isFirefox&&(n.w=n.width()),n.h=e.height(),n.boxPadding=e.outerWidth()-e.width(),v?(n.itemT=n.vars.itemWidth+t,n.itemM=t,n.minW=a?a*n.itemT:n.w,n.maxW=i?i*n.itemT-t:n.w,n.itemW=n.minW>n.w?(n.w-t*(a-1))/a:n.maxW<n.w?(n.w-t*(i-1))/i:n.vars.itemWidth>n.w?n.w:n.vars.itemWidth,n.visible=Math.floor(n.w/n.itemW),n.move=n.vars.move>0&&n.vars.move<n.visible?n.vars.move:n.visible,n.pagingCount=Math.ceil((n.count-n.visible)/n.move+1),n.last=n.pagingCount-1,n.limit=1===n.pagingCount?0:n.vars.itemWidth>n.w?n.itemW*(n.count-1)+t*(n.count-1):(n.itemW+t)*n.count-n.w-t):(n.itemW=n.w,n.itemM=t,n.pagingCount=n.count,n.last=n.count-1),n.computedW=n.itemW-n.boxPadding,n.computedM=n.itemM},n.update=function(e,t){n.doMath(),v||(e<n.currentSlide?n.currentSlide+=1:e<=n.currentSlide&&0!==e&&(n.currentSlide-=1),n.animatingTo=n.currentSlide),n.vars.controlNav&&!n.manualControls&&("add"===t&&!v||n.pagingCount>n.controlNav.length?f.controlNav.update("add"):("remove"===t&&!v||n.pagingCount<n.controlNav.length)&&(v&&n.currentSlide>n.last&&(n.currentSlide-=1,n.animatingTo-=1),f.controlNav.update("remove",n.last))),n.vars.directionNav&&f.directionNav.update()},n.addSlide=function(e,t){var a=$(e);n.count+=1,n.last=n.count-1,d&&u?void 0!==t?n.slides.eq(n.count-t).after(a):n.container.prepend(a):void 0!==t?n.slides.eq(t).before(a):n.container.append(a),n.update(t,"add"),n.slides=$(n.vars.selector+":not(.clone)",n),n.setup(),n.vars.added(n)},n.removeSlide=function(e){var t=isNaN(e)?n.slides.index($(e)):e;n.count-=1,n.last=n.count-1,isNaN(e)?$(e,n.slides).remove():d&&u?n.slides.eq(n.last).remove():n.slides.eq(e).remove(),n.doMath(),n.update(t,"remove"),n.slides=$(n.vars.selector+":not(.clone)",n),n.setup(),n.vars.removed(n)},f.init()},$(window).blur(function(t){e=!1}).focus(function(t){e=!0}),$.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,isFirefox:!1,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){},rtl:!1},$.fn.flexslider=function(e){if(void 0===e&&(e={}),"object"==typeof e)return this.each(function(){var t=$(this),a=e.selector?e.selector:".slides > li",n=t.find(a);1===n.length&&!1===e.allowOneSlide||0===n.length?(n.fadeIn(400),e.start&&e.start(t)):void 0===t.data("flexslider")&&new $.flexslider(this,e)});var t=$(this).data("flexslider");switch(e){case"play":t.play();break;case"pause":t.pause();break;case"stop":t.stop();break;case"next":t.flexAnimate(t.getTarget("next"),!0);break;case"prev":case"previous":t.flexAnimate(t.getTarget("prev"),!0);break;default:"number"==typeof e&&t.flexAnimate(e,!0)}}}(jQuery);;(function(){"use strict";jQuery(function(){var configuration={animation:"fade",slideshow:true,controlNav:false,slideshowSpeed:7000,animationSpeed:1000,};$('.flexslider').flexslider(configuration);});}());;(function($){'use strict';var pluginName='ScrollIt',pluginVersion='1.0.3';var defaults={upKey:38,downKey:40,easing:'linear',scrollTime:600,activeClass:'active',onPageChange:null,topOffset:0};$.scrollIt=function(options){var settings=$.extend(defaults,options),active=0,lastIndex=$('[data-scroll-index]:last').attr('data-scroll-index');var navigate=function(ndx){if(ndx<0||ndx>lastIndex)return;var targetTop=$('[data-scroll-index='+ndx+']').offset().top+settings.topOffset+1;$('html,body').animate({scrollTop:targetTop,easing:settings.easing},settings.scrollTime);};var doScroll=function(e){var target=$(e.target).closest("[data-scroll-nav]").attr('data-scroll-nav')||$(e.target).closest("[data-scroll-goto]").attr('data-scroll-goto');navigate(parseInt(target));};var keyNavigation=function(e){var key=e.which;if($('html,body').is(':animated')&&(key==settings.upKey||key==settings.downKey)){return false;}
if(key==settings.upKey&&active>0){navigate(parseInt(active)-1);return false;}else if(key==settings.downKey&&active<lastIndex){navigate(parseInt(active)+1);return false;}
return true;};var updateActive=function(ndx){if(settings.onPageChange&&ndx&&(active!=ndx))settings.onPageChange(ndx);active=ndx;$('[data-scroll-nav]').removeClass(settings.activeClass);$('[data-scroll-nav='+ndx+']').addClass(settings.activeClass);};var watchActive=function(){var winTop=$(window).scrollTop();var visible=$('[data-scroll-index]').filter(function(ndx,div){return winTop>=$(div).offset().top+settings.topOffset&&winTop<$(div).offset().top+(settings.topOffset)+$(div).outerHeight()});var newActive=visible.first().attr('data-scroll-index');updateActive(newActive);};$(window).on('scroll',watchActive).scroll();$(window).on('keydown',keyNavigation);$('body').on('click','[data-scroll-nav], [data-scroll-goto]',function(e){e.preventDefault();doScroll(e);});};}(jQuery));;(function(){"use strict";function hide_target(event){$(event.target).slideUp();}
function copy_html(source,target){var html;html=$(source).html();$(target).html(html);console.debug("Copied html from "+source+" to "+target);}
function on_load(){animal3_external_links_use_new_window();animal3_navigation_select({allow_prefix:true});animal3_toggle_open_closed("#menu-toggle");$(".message").click(hide_target);$(".message").delay(3000).slideUp();$K.init();}
jQuery(function(){on_load();});}());;(function(){"use strict";function init(){var $elems=$('.redactor3');if($elems.length){console.debug('Initialise Redactor3 on ',$elems.length,' element(s)');}else{console.debug("No elements matching '.redactor3', , not initialising");}
$elems.each(function(){init_editor($(this));});}
function init_editor($elem){var options=$elem.data('options');Redactor($elem[0],options);console.log("Redactor installed on ",$elem," with options: ",options);}
jQuery(document).ready(function(){if(typeof Redactor==="undefined"){console.debug("Redactor not loaded, not initialising");return;}
init();});}());;(function(){"use strict";function init(){var $elems=$('.article');if($elems.length){console.debug('Initialise Article on ',$elems.length,' element(s)');}else{console.debug("No elements matching '.article', , not initialising");}
$elems.each(function(){init_editor($(this));});}
function init_editor($elem){var options=$elem.data('options');ArticleEditor($elem[0],options);console.log("Article installed on ",$elem," with options: ",options);}
jQuery(document).ready(function(){if(typeof ArticleEditor==="undefined"){console.debug("Article not loaded, not initialising");return;}
init();});}());}).call(this);